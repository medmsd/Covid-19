<body>
<div *ngIf="loaded">
  <p-chart type="bar" [data]="data" width="100vw" height="80vh" [options]="options"></p-chart>
  <br><br><br>
  <div class="text-center world">
    <h1>Global World</h1> <br>
    <div>
      <h2>Cases : </h2> <h3>{{global.cases}}</h3>
    </div>
     <h2> Deaths : </h2> <h3 style="color:red">{{global.deaths}} </h3>

    <div>
      <h2>Recovered :</h2> <h3 style="color:green"> {{global.recovered}}</h3>
    </div>
    <div>
     <h2> Active : </h2><h3>{{global.active}}</h3>
    </div>
  </div>
  <br>
  <div class="container">
    <h1 class="text-center">
      Today News
    </h1>
    <div class="row">
      <div class="col-sm-6">
          <h2 class="text-center">Today Deaths</h2>
          <div class="row">
            <div *ngFor="let result of todayDeaths" class="col-sm-6">
              <br>
              <div class="text-center">
                <div>
                  <div>
                    <span>{{result.country}}</span>
                    <p>
                      <img width="125" height="83.5" [src]="result.countryInfo.flag" />
                    </p>
                  </div>
                  <div>
                    Total <span style="color:orange"> {{result.deaths}} </span><br>
                    Today <span style="color:red">{{result.todayDeaths}}</span>
                  </div>
                </div>
              </div>
              <br>
          </div>
        </div>
      </div>
      <div class="col">
            <h2 class="text-center">Today Cases</h2>
          <div class="row">
            <div *ngFor="let result of todayCases" class="col-sm-6">
              <br>
              <div class="text-center">
                <div>
                  <div>
                    <span>{{result.country}}</span>
                    <p>
                      <img width="125" height="83.5" [src]="result.countryInfo.flag" />
                    </p>
                  </div>
                  <div>
                    Total <span style="color:orange"> {{result.cases}} </span><br>
                    Today <span style="color:red">{{result.todayCases}}</span>
                  </div>
                </div>
            </div>
              <br>
          </div>
          </div>
        </div>
    </div>
  </div>
  <p-table #dt [columns]="cols" [value]="results" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
           sortMode="multiple"
           currentPageReportTemplate="Showing {first} to {last} of {totalRecords} countries">
    <ng-template pTemplate="caption">
      <p style="text-align: right">
        <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
        <input type="text" pInputText size="50" placeholder="Global Filter"
               (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
      </p>
    </ng-template>
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns" [pSortableColumn]="col.field">
          {{col.header}}
          <p-sortIcon [field]="col.field"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        <td *ngFor="let col of columns">
          <p *ngIf="col.field=='country'"><span style="float:left">{{rowData[col.field]}}</span> <img style="float:right" width="62.5" height="41.75"
                                                                         [src]="rowData.countryInfo.flag" /> </p>
          <p *ngIf="col.field!='country'">{{rowData[col.field]}}</p>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<div style="height: 100vh;background: white" *ngIf="!loaded" class="text-center">
  <p-progressSpinner [style]="{width: '50%', height: '50%'}"></p-progressSpinner>
</div>

</body>
